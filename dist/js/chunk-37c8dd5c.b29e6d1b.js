(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37c8dd5c"],{"3fd1":function(t,e,a){"use strict";a.r(e);a("14d9");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"registration"},[t.modal?e("div",[e("div",{staticClass:"edit-address",on:{click:function(e){t.modal=!1}}}),e("div",{staticClass:"edit-address__content"},[e("h3",{staticClass:"edit-address__title",staticStyle:{"text-align":"center"}},[t._v(" "+t._s("Ru"===t.$cookie.get("lang")?"Ваши данные сохранены":"Your data has been saved")+" ")]),e("button",{staticClass:"modal__btn",on:{click:function(e){t.modal=!1,t.$router.push("/office")}}},[t._v(" Ок ")])])]):t._e(),t.sms?e("div",{staticClass:"smsForm SMS",attrs:{id:"SMS"}},[e("div",{staticClass:"registration-title"},[t._v(" "+t._s("Ru"===t.lang?"Регистрация":"Registration")+" ")]),e("p",[t._v(" "+t._s("Ru"===t.lang?"На ваш номер телефона придет код SMS":"SMS code will be sent to your phone number")+" ")]),e("p",[t._v(" "+t._s("Ru"===t.lang?"Вы не получили код?":"You didn't receive a code?")+" ")]),t.timer>0?e("button",{staticClass:"smsForm-btn"},[t._v(" "+t._s("RU"===t.lang?"Отправить повторно через":"Resend via")+" "+t._s(t.timer)+" ")]):e("button",{staticClass:"smsForm-btn",on:{click:t.handleSendSMS}},[t._v(" "+t._s("RU"===t.lang?"Отправить повторно через":"Resend via")+" "+t._s(t.timer)+" ")]),e("div",{staticClass:"registration-form_one"},[e("app-input",{attrs:{type:"number",title:"Ru"===t.lang?"Код SMS":"SMS code"},model:{value:t.smsInput,callback:function(e){t.smsInput=e},expression:"smsInput"}}),e("button",{staticClass:"registration-btn mt-10",on:{click:function(e){return t.regFunc()}}},[t._v(" "+t._s("Ru"===t.lang?"Зарегистрироваться":"Register")+" ")])],1)]):e("div",{staticClass:"container"},[e("div",{staticClass:"registration-title"},[t._v(" "+t._s("Ru"===t.lang?"Регистрация":"Registration")+" ")]),e("p",{staticStyle:{color:"green","font-weight":"700","font-size":"16px","text-align":"center"}},[t._v(" "+t._s("Ru"===t.lang?"В первую очередь необходимо отметить, кем вы являетесь!":"First of all, you need to note who you are.")+" ")]),e("div",{staticClass:"registration-radio"},[e("div",{staticClass:"registration-radio_item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formtab,expression:"formtab"}],attrs:{type:"radio",id:"radio1",value:"1"},domProps:{checked:t._q(t.formtab,"1")},on:{change:function(e){t.formtab="1"}}}),e("label",{attrs:{for:"radio1"}},[t._v(" "+t._s("Ru"===t.lang?"Розничный клиент":"Retail client")+" ")])]),e("div",{staticClass:"registration-radio_item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formtab,expression:"formtab"}],attrs:{type:"radio",id:"radio2",value:"2"},domProps:{checked:t._q(t.formtab,"2")},on:{change:function(e){t.formtab="2"}}}),e("label",{attrs:{for:"radio2"}},[t._v(t._s("Ru"===t.lang?"Салон штор":"Salon curtains")+" ")])]),e("div",{staticClass:"registration-radio_item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formtab,expression:"formtab"}],attrs:{type:"radio",id:"radio3",value:"3"},domProps:{checked:t._q(t.formtab,"3")},on:{change:function(e){t.formtab="3"}}}),e("label",{attrs:{for:"radio3"}},[t._v(t._s("Ru"===t.lang?"Текстильный декоратор":"Textile decorator"))])]),e("div",{staticClass:"registration-radio_item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formtab,expression:"formtab"}],attrs:{type:"radio",id:"radio4",value:"4"},domProps:{checked:t._q(t.formtab,"4")},on:{change:function(e){t.formtab="4"}}}),e("label",{attrs:{for:"radio4"}},[t._v(" "+t._s("Ru"===t.lang?"Графический дизайнер":"Graphic Designer"))])])]),e("validation-observer",{ref:"registerForm"},[e("form",{staticClass:"registration-form",attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.reg.apply(null,arguments)}}},[e("div",{staticClass:"registration-form_two"},[e("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("app-input",{attrs:{title:"Ru"===t.lang?"Имя":"Name"},model:{value:t.regData.first_name,callback:function(e){t.$set(t.regData,"first_name",e)},expression:"regData.first_name"}}),e("label",{attrs:{for:"name"}},[e("span",{staticStyle:{color:"red"}},[t._v(t._s(a[0]))])])]}}])})],1),e("div",{staticClass:"registration-form_two"},[e("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("app-input",{attrs:{title:"Ru"===t.lang?"Фамилия":"Surname"},model:{value:t.regData.last_name,callback:function(e){t.$set(t.regData,"last_name",e)},expression:"regData.last_name"}}),e("label",{attrs:{for:"secondName"}},[e("span",{staticStyle:{color:"red"}},[t._v(t._s(a[0]))])])]}}])})],1),e("div",{staticClass:"registration-form_two"},[e("validation-provider",{attrs:{name:"email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("app-input",{attrs:{title:"Email"},model:{value:t.regData.email,callback:function(e){t.$set(t.regData,"email",e)},expression:"regData.email"}}),e("label",{attrs:{for:"email"}},[e("span",{staticStyle:{color:"red"}},[t._v(t._s("email"===a[0]?"Неправильно введен email":a[0]))])])]}}])})],1),e("div",{staticClass:"registration-form_two"},[e("validation-provider",{attrs:{rules:"required|phone_number"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("app-input",{directives:[{name:"mask",rawName:"v-mask",value:"KZ"===t.countrys||"RU"===t.countrys?"+7 (###) ###-##-##":"+375 ## ### ## ##",expression:"\n                countrys === 'KZ' || countrys === 'RU'\n                  ? '+7 (###) ###-##-##'\n                  : '+375 ## ### ## ##'\n              "}],attrs:{title:"Ru"===t.lang?"Телефон":"Phone",placeholder:"KZ"===t.countrys||"RU"===t.countrys?"+7 (###) ###-##-##":"+375 ## ### ## ##"},model:{value:t.regData.username,callback:function(e){t.$set(t.regData,"username",e)},expression:"regData.username"}}),e("label",{attrs:{for:"phone_number"}},[e("span",{staticStyle:{color:"red"}},[t._v(t._s(a[0]))])])]}}])})],1),e("div",{staticClass:"registration-form_two"},[e("validation-provider",{attrs:{rules:"required|password"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("app-input",{attrs:{type:"password",title:"Ru"===t.lang?"Пароль":"Password"},model:{value:t.regData.password,callback:function(e){t.$set(t.regData,"password",e)},expression:"regData.password"}}),e("label",{attrs:{for:"password"}},[e("span",{staticStyle:{color:"red"}},[t._v(t._s(a[0]))])])]}}])})],1),e("div",{staticClass:"registration-form_two"},[e("validation-provider",{attrs:{rules:"required|password"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("app-input",{attrs:{type:"password",title:"Ru"===t.lang?"Подтвердить пароль":"Confirm the password"},model:{value:t.repeatPassword,callback:function(e){t.repeatPassword=e},expression:"repeatPassword"}}),e("label",{attrs:{for:"password"}},[e("span",{staticStyle:{color:"red"}},[t._v(t._s(a[0]))]),e("br"),e("span",{staticStyle:{color:"red"}},[t._v(t._s(t.repeatMsg))])])]}}])})],1),e("div",{staticClass:"registration-form_two"},[e("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("app-select",{attrs:{title:"Ru"===t.lang?"Страна":"Country",label:""!==t.inputValue.name?t.inputValue.name:"",items:t.country},on:{input:t.changeInput}}),e("label",{attrs:{for:"country"}},[e("span",{staticStyle:{color:"red"}},[t._v(t._s(a[0]))]),e("br")])]}}])})],1),e("div",{staticClass:"registration-form_two"},[e("validation-provider",{attrs:{"aria-disabled":""===t.inputValue,rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("app-select",{attrs:{title:"Ru"===t.lang?"Город":"City",label:""===t.inputCity.name?"":t.inputCity.name,items:t.cities},on:{input:t.changeInputCity}}),e("label",{attrs:{for:"city"}},[e("span",{staticStyle:{color:"red"}},[t._v(t._s(a[0]))]),e("br")])]}}])})],1),"3"==t.formtab?e("div",{staticClass:"registration-form_one"},[e("app-input",{attrs:{title:"Ru"===t.lang?"Название Студии":"Studio name"},model:{value:t.regData.addresses[0].saloon_name,callback:function(e){t.$set(t.regData.addresses[0],"saloon_name",e)},expression:"regData.addresses[0].saloon_name"}}),t.saloon_nameErr?e("p",{staticStyle:{color:"red","font-weight":"500"}},[t._v(" "+t._s(t.saloon_nameErr)+" ")]):t._e()],1):t._e(),"2"==t.formtab?e("div",{staticClass:"registration-form_one"},[e("app-input",{attrs:{title:"Ru"===t.lang?"Название Салона":"Saloon Name"},model:{value:t.regData.addresses[0].saloon_name,callback:function(e){t.$set(t.regData.addresses[0],"saloon_name",e)},expression:"regData.addresses[0].saloon_name"}}),t.saloon_nameErr?e("p",{staticStyle:{color:"red","font-weight":"500"}},[t._v(" "+t._s(t.saloon_nameErr)+" ")]):t._e()],1):t._e(),"4"==t.formtab?e("div",{staticClass:"registration-form_one"},[e("app-input",{attrs:{title:"Ru"===t.lang?"Название дизайн студии":"Name of design studio"},model:{value:t.regData.addresses[0].saloon_name,callback:function(e){t.$set(t.regData.addresses[0],"saloon_name",e)},expression:"regData.addresses[0].saloon_name"}})],1):t._e(),e("div",{staticClass:"registration-form_one registration-private"},[e("input",{attrs:{type:"checkbox",id:"scales",name:"scales",checked:""}}),e("label",{attrs:{for:"scales"}}),e("p",[t._v(" "+t._s("Ru"===t.lang?"Регистрируясь, я подтверждаю, что понимаю и согласен с Условиями обслуживания":"By registering, I confirm that I understand and agree to the Terms service")+" ")])]),e("label",{attrs:{for:"conditions"}},[e("span",{staticStyle:{color:"red"}},[t._v(t._s(t.conditions))]),t.error?e("span",{staticStyle:{color:"red",display:"block","text-align":"start"}},[t._v(" "+t._s("Ru"===t.lang?"Данный номер уже используется":"Phone number is already exist")+" ")]):t._e()]),e("div",{staticClass:"registration-form_one"},[e("button",{staticClass:"registration-btn",on:{click:t.handleSendSMS}},[t._v(" "+t._s("Ru"===t.lang?"Получить код SMS":"Send SMS")+" ")])])])])],1)])},r=[],i=a("2f62"),o=a("0f9a"),n=a("7bb1"),l=a("4ec3"),d={name:"Registration",components:{ValidationObserver:n["a"],ValidationProvider:n["b"],AppSelect:()=>a.e("chunk-bc03a616").then(a.bind(null,"6785")),AppInput:()=>a.e("chunk-093fc662").then(a.bind(null,"007f"))},data(){return{error:!1,lang:this.$cookie.get("lang"),sms:!1,countrys:localStorage.getItem("country"),timer:0,regData:{username:"",password:"",role:1,first_name:"",last_name:"",email:"",addresses:[{index:"",street:"",home:"",saloon_name:"",user:0,country:0,city:1}]},smsInput:"",repeatPassword:"",repeatMsg:"",conditions:"",country:[{id:1,title:"Казахстан"},{id:2,title:"Россия"},{id:3,title:"Украина"}],cities:[{id:11,title:"Алматы"},{id:12,title:"Москва"},{id:13,title:"Киев"}],formtab:"1",inputValue:"",inputCity:"",modal:!1,saloon_nameErr:""}},created(){l["a"].getCountries().then(t=>{this.country=t})},watch:{formtab:{handler(){this.saloon_nameErr=""}},regData:{deep:!0,handler(){this.saloon_nameErr=""}},timer:{handler(){this.timer>0&&setTimeout(()=>{this.timer--},1e3)}}},computed:{...Object(i["c"])("userModule",["isUserAuth"])},methods:{handleSendSMS(){const t=document.getElementById("scales");!1!==t?l["a"].sendSms({username:this.regData.username}).then(()=>{this.sms=!0,this.timer=60,document.querySelector("#SMS").scrollIntoView({block:"center",behavior:"smooth"})}):this.conditions="Примите условия обслуживания"},changeInput(t){this.error=!1,this.inputValue=t,this.cities=this.inputValue.cities,this.inputCity="",this.regData.addresses[0].country=this.inputValue.id},changeInputCity(t){this.error=!1,this.inputCity=t,this.regData.addresses[0].city=this.inputCity.id},...Object(i["b"])("userModule",{userAuth:o["a"].IS_AUTH}),regFunc(){this.error||l["a"].verifySms({username:this.regData.username,code:this.smsInput}).then(()=>{"1"===this.formtab?(this.regData.group="Розничные покупатели",this.regData.addresses[0].saloon_name="",this.regData.role=2):"2"===this.formtab?(this.regData.group="Салон штор",this.regData.role=4):"3"===this.formtab?(this.regData.group="Текстильный декоратор",this.regData.role=3):"4"===this.formtab&&(this.regData.group="Графический дизайнер",this.regData.role=5),"2"===this.formtab&&""!==this.regData.addresses[0].saloon_name||"3"===this.formtab&&""!==this.regData.addresses[0].saloon_name?l["a"].register(this.regData).then(t=>{this.error=!1,this.$cookie.set("token",t.token,{expires:7}),this.$cookie.set("refresh",t.refresh,{expires:7})}).catch(t=>{500===t.response.status&&(this.error=!0)}):this.saloon_nameErr="Ru"===this.lang?"Это поле обязательно для данной роли":"This field is required for this role"})}}},u=d,c=(a("4a0c"),a("2877")),m=Object(c["a"])(u,s,r,!1,null,"4f034630",null);e["default"]=m.exports},"4a0c":function(t,e,a){"use strict";a("a510")},a510:function(t,e,a){}}]);
//# sourceMappingURL=chunk-37c8dd5c.b29e6d1b.js.map